import{b as g,a as w,u as k,c as d,r as x,k as T,d as n,e,f as i,v as u,n as V,F as f,p as q,g as c,h as S,i as B,q as C,w as M,j as N,o as r,t as U}from"./index-CC5LDJ6w.js";import{b as p}from"./boardApi-DNzAwOKa.js";const A=e("h1",null,[e("i",{class:"fa-regular fa-pen-to-square"}),c(" 글 작성")],-1),D={class:"mb-3 mt-3 row"},F={class:"col-8"},R=e("label",{for:"title",class:"form-label"}," 제목 ",-1),j={class:"col-4"},E=e("label",{for:"title",class:"form-label"}," Type ",-1),L=["value"],P={class:"mb-3 mt-3"},z=e("label",{for:"files",class:"form-label"}," 첨부파일 ",-1),G={class:"mb-3 mt-3"},H=e("label",{for:"content",class:"form-label"}," 내용 ",-1),I={class:"my-5 text-center"},J=["disabled"],K=e("i",{class:"fa-solid fa-check"},null,-1),O=e("i",{class:"fa-solid fa-list"},null,-1),$={__name:"BoardCreatePage",setup(Q){const m=g(),_=w(),b=k(),o=d(null),a=d([]),t=x({writer:m.id,title:"",type:"plain",content:"",files:null}),h=T(()=>!t.title),y=async()=>{confirm("등록할까요?")&&(o.value.files.length>0&&(t.files=o.value.files),await p.create(t),_.push("/board/list"))};return(async()=>{try{a.value=await p.getTypes(),console.log(a.value)}catch{}})(),(X,l)=>{const v=N("router-link");return r(),n(f,null,[A,e("form",{onSubmit:M(y,["prevent"])},[e("div",D,[e("div",F,[R,i(e("input",{type:"text",class:"form-control",placeholder:"제목",id:"title","onUpdate:modelValue":l[0]||(l[0]=s=>t.title=s)},null,512),[[u,t.title]])]),e("div",j,[E,i(e("select",{"onUpdate:modelValue":l[1]||(l[1]=s=>t.type=s),class:"form-select",required:""},[(r(!0),n(f,null,q(a.value,s=>(r(),n("option",{key:s,value:s.type},U(s.name),9,L))),128))],512),[[V,t.type]])])]),e("div",P,[z,e("input",{type:"file",class:"form-control",placeholder:"첨부파일",id:"files",ref_key:"files",ref:o,multiple:""},null,512)]),e("div",G,[H,i(e("textarea",{class:"form-control",placeholder:"내용",id:"content","onUpdate:modelValue":l[2]||(l[2]=s=>t.content=s),rows:"10"},null,512),[[u,t.content]])]),e("div",I,[e("button",{type:"submit",class:"btn btn-primary me-3",disabled:h.value},[K,c(" 확인 ")],8,J),S(v,{class:"btn btn-primary",to:{name:"board/list",query:C(b).query}},{default:B(()=>[O,c(" 목록 ")]),_:1},8,["to"])])],32)],64)}}};export{$ as default};
