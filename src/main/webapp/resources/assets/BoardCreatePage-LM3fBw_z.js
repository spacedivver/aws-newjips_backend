import{n as g,a as x,u as k,r as d,b as w,c as T,d as V,o as n,e as r,f as e,s as i,x as u,A as q,F as f,h as S,m as c,j as B,k as A,g as C,q as M,t as N}from"./index-1bL1-Tb4.js";import{b as m}from"./boardApi-AU3JKn4f.js";const U=e("h1",null,[e("i",{class:"fa-regular fa-pen-to-square"}),c(" 글 작성")],-1),D={class:"mb-3 mt-3 row"},F={class:"col-8"},R=e("label",{for:"title",class:"form-label"}," 제목 ",-1),j={class:"col-4"},E=e("label",{for:"title",class:"form-label"}," Type ",-1),L=["value"],P={class:"mb-3 mt-3"},z=e("label",{for:"files",class:"form-label"}," 첨부파일 ",-1),G={class:"mb-3 mt-3"},H=e("label",{for:"content",class:"form-label"}," 내용 ",-1),I={class:"my-5 text-center"},J=["disabled"],K=e("i",{class:"fa-solid fa-check"},null,-1),O=e("i",{class:"fa-solid fa-list"},null,-1),$={__name:"BoardCreatePage",setup(Q){const p=g(),_=x(),b=k(),o=d(null),a=d([]),t=w({writer:p.id,title:"",type:"plain",content:"",files:null}),h=T(()=>!t.title),y=async()=>{confirm("등록할까요?")&&(o.value.files.length>0&&(t.files=o.value.files),await m.create(t),_.push("/board/list"))};return(async()=>{try{a.value=await m.getTypes(),console.log(a.value)}catch{}})(),(X,l)=>{const v=V("router-link");return n(),r(f,null,[U,e("form",{onSubmit:M(y,["prevent"])},[e("div",D,[e("div",F,[R,i(e("input",{type:"text",class:"form-control",placeholder:"제목",id:"title","onUpdate:modelValue":l[0]||(l[0]=s=>t.title=s)},null,512),[[u,t.title]])]),e("div",j,[E,i(e("select",{"onUpdate:modelValue":l[1]||(l[1]=s=>t.type=s),class:"form-select",required:""},[(n(!0),r(f,null,S(a.value,s=>(n(),r("option",{key:s,value:s.type},N(s.name),9,L))),128))],512),[[q,t.type]])])]),e("div",P,[z,e("input",{type:"file",class:"form-control",placeholder:"첨부파일",id:"files",ref_key:"files",ref:o,multiple:""},null,512)]),e("div",G,[H,i(e("textarea",{class:"form-control",placeholder:"내용",id:"content","onUpdate:modelValue":l[2]||(l[2]=s=>t.content=s),rows:"10"},null,512),[[u,t.content]])]),e("div",I,[e("button",{type:"submit",class:"btn btn-primary me-3",disabled:h.value},[K,c(" 확인 ")],8,J),B(v,{class:"btn btn-primary",to:{name:"board/list",query:C(b).query}},{default:A(()=>[O,c(" 목록 ")]),_:1},8,["to"])])],32)],64)}}};export{$ as default};
