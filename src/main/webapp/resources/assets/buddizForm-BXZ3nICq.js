import{B,_ as N,a as O,v as T,r as l,D as j,n as $,o as _,e as p,f as o,t as n,g as i,m as h,s as d,A as S,F,h as k,x as I,R as C,p as q,l as P}from"./index-1bL1-Tb4.js";const V="/api/buddiz/intro",A={async getAllBuddizIntro(){try{const{data:a}=await B.get(`${V}`);return a}catch(a){throw console.error("Error fetching all Buddiz intros:",a),a}},async getBuddizIntro(a){try{const{data:r}=await B.get(`${V}/${a}`);return r}catch(r){throw console.error("Error fetching Buddiz intro by uno:",r),r}},async saveOrUpdateBuddizIntro(a){try{return(await B.post(`${V}/saveOrUpdate`,a)).data}catch(r){throw console.error("Error saving or updating Buddiz intro:",r),r}}},u=a=>(q("data-v-5ad1d67f"),a=a(),P(),a),G={class:"fluid-container"},H={class:"type-header"},J={style:{"font-size":"17pt","margin-top":"8pt"}},Q={class:"fluid-container px-5 pt-5 pb-5",style:{"background-color":"#fbfbfc"}},W={class:"section-card"},X={class:"section-title"},Y=u(()=>o("i",{class:"section-icon"},null,-1)),Z={class:"input-group"},oo={for:"residence"},eo={value:"",disabled:""},to=["value"],so={class:"input-group"},no={for:"koreaExperience"},io=["placeholder"],ao={class:"section-card"},co={class:"section-title"},ro=u(()=>o("i",{class:"section-icon"},null,-1)),lo=["placeholder"],uo={class:"character-limit"},mo={class:"section-card"},_o={class:"section-title"},po=u(()=>o("i",{class:"section-icon"},null,-1)),ho={class:"input-group"},vo={for:"accompanyRegion"},bo={value:"",disabled:""},fo=["value"],go={class:"input-group"},zo={for:"transactionCount"},yo=["placeholder"],Fo={class:"section-card"},ko={class:"checkbox-group"},Io={class:"left-align"},xo=["id","value"],Uo=["for"],wo={class:"checkbox-group"},Bo={class:"left-align"},So=["id","value"],Vo=["for"],Eo={class:"section-card"},Ro={class:"section-title"},$o=u(()=>o("i",{class:"section-icon"},null,-1)),Co={for:"price"},Ao=u(()=>o("span",{class:"required-asterisk"},"*",-1)),Lo={class:"price-group-inline"},Do=["placeholder"],Ko=u(()=>o("option",{value:"$"},"$",-1)),Mo=u(()=>o("option",{value:"€"},"w",-1)),No=u(()=>o("option",{value:"₫"},"₫",-1)),Oo=[Ko,Mo,No],To={__name:"buddizForm",setup(a){const r=O(),{locale:L,t}=T.useI18n(),v=l(""),b=l(""),x=l(""),f=l(""),m=l(""),g=l(0),U=l("$"),z=l([]),y=l([]),D=["Friendly","Emotional","Calm","Energetic","Silent","Organized","Sociable"],K=["Vietnamese","Korean"],E=["서울","부산","대구","인천","광주"];j(async()=>{const s=$().uno;if(!s){alert(t("alerts.not_logged_in"));return}try{const e=await A.getBuddizIntro(s);console.log("Fetched data from API:",e),e?(v.value=e.location||"",b.value=e.liveInKr||"",x.value=e.accompanyRegion||"",f.value=e.hiredTimes||"",m.value=e.selfInfo||"",g.value=e.cost||0,U.value=e.currency||"$",z.value=e.personality?e.personality.split(","):[],y.value=e.useLan?e.useLan.split(","):[]):console.warn("No data found for the user")}catch(e){console.error(t("common.errors.fetch_failed"),e)}});const M=async()=>{const s=$().uno;if(!s){alert(t("common.alerts.not_logged_in"));return}const e={uno:s,liveInKr:b.value||0,personality:z.value.join(",")||t("common.buddizForm.unknown"),cost:g.value||0,hiredTimes:f.value||0,rating:5,selfInfo:m.value||t("common.buddizForm.no_description"),lan:L.value==="ko"?"KR":"VN",location:v.value||t("common.buddizForm.unknown"),useLan:y.value.join(",")||t("common.buddizForm.unknown")};try{const c=await A.saveOrUpdateBuddizIntro(e);console.log("Form submission response:",c),alert(t("common.alerts.form_submitted")),r.push("/mypage/mystatus")}catch(c){console.error(t("common.errors.submit_failed"),c),alert(t("common.errors.submit_failed"))}};return(R,s)=>(_(),p("div",G,[o("div",H,[o("h2",null,n(i(t)("common.buddizForm.header")),1),o("div",J,n(i(t)("common.buddizForm.subtitle")),1)]),o("div",Q,[o("section",W,[o("h2",X,[Y,h(" "+n(i(t)("common.buddizForm.basic_info")),1)]),o("div",Z,[o("label",oo,n(i(t)("common.buddizForm.residence")),1),d(o("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),id:"residence"},[o("option",eo,n(i(t)("common.buddizForm.select_region")),1),(_(),p(F,null,k(E,e=>o("option",{key:e,value:e},n(e),9,to)),64))],512),[[S,v.value]])]),o("div",so,[o("label",no,n(i(t)("common.buddizForm.korea_experience")),1),d(o("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>b.value=e),type:"number",id:"koreaExperience",placeholder:i(t)("common.buddizForm.enter_years")},null,8,io),[[I,b.value]])])]),o("section",ao,[o("h2",co,[ro,h(" "+n(i(t)("common.buddizForm.description")),1)]),d(o("textarea",{"onUpdate:modelValue":s[2]||(s[2]=e=>m.value=e),placeholder:i(t)("common.buddizForm.enter_description"),maxlength:"8000"},null,8,lo),[[I,m.value]]),o("span",uo,n(8e3-m.value.length)+" "+n(i(t)("common.buddizForm.characters_left")),1)]),o("section",mo,[o("h2",_o,[po,h(" "+n(i(t)("common.buddizForm.additional_info")),1)]),o("div",ho,[o("label",vo,n(i(t)("common.buddizForm.accompany_region")),1),d(o("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>x.value=e),id:"accompanyRegion"},[o("option",bo,n(i(t)("common.buddizForm.select_region")),1),(_(),p(F,null,k(E,e=>o("option",{key:e,value:e},n(e),9,fo)),64))],512),[[S,x.value]])]),o("div",go,[o("label",zo,n(i(t)("common.buddizForm.transaction_count")),1),d(o("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>f.value=e),type:"number",id:"transactionCount",placeholder:i(t)("buddizForm.enter_transactions")},null,8,yo),[[I,f.value]])])]),o("section",Fo,[o("div",ko,[o("h4",null,n(i(t)("common.buddizForm.characteristics")),1),o("div",Io,[(_(),p(F,null,k(D,(e,c)=>o("div",{key:c,class:"checkbox-item"},[d(o("input",{type:"checkbox",id:"char-"+c,value:e,"onUpdate:modelValue":s[5]||(s[5]=w=>z.value=w)},null,8,xo),[[C,z.value]]),o("label",{for:"char-"+c},n(e),9,Uo)])),64))])]),o("div",wo,[o("h4",null,n(i(t)("common.buddizForm.languages")),1),o("div",Bo,[(_(),p(F,null,k(K,(e,c)=>o("div",{key:c,class:"checkbox-item"},[d(o("input",{type:"checkbox",id:"lang-"+c,value:e,"onUpdate:modelValue":s[6]||(s[6]=w=>y.value=w)},null,8,So),[[C,y.value]]),o("label",{for:"lang-"+c},n(e),9,Vo)])),64))])])]),o("section",Eo,[o("h2",Ro,[$o,h(" "+n(i(t)("common.buddizForm.price")),1)]),o("label",Co,[h(n(i(t)("common.buddizForm.price_label"))+" ",1),Ao]),o("div",Lo,[d(o("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>g.value=e),type:"number",placeholder:i(t)("common.buddizForm.min"),min:"0",id:"price"},null,8,Do),[[I,g.value]]),d(o("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>U.value=e)},Oo,512),[[S,U.value]])])]),o("button",{class:"submit-btn",onClick:M},n(i(t)("common.buddizForm.submit")),1)])]))}},qo=N(To,[["__scopeId","data-v-5ad1d67f"]]);export{qo as default};
